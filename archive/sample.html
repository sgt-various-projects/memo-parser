
<table>
    <tbody>
        <tr>
            <td>
                <input type="text" id="name" name="name" required><br><br>
            </td>
            <td>
                <textarea name="message" rows="5" cols="40" placeholder="ここに入力してください..."></textarea>
            </td>
        </tr>
        <tr>
            <td>
                <input type="text" id="name" name="name" required><br><br>
            </td>
            <td>
                <textarea name="message" rows="5" cols="40" placeholder="ここに入力してください..."></textarea>
            </td>
        </tr>
    </tbody>
</table>


<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>テキストボックス付きテキストエリア</title>
  <style>
    .row {
      display: flex;
      align-items: start;
      margin-bottom: 8px;
    }

    .row input[type="text"] {
      width: 100px;
      margin-right: 8px;
    }

    .row textarea {
      flex: 1;
    }
  </style>
</head>
<body>

  <div class="row">
    <input type="text" placeholder="入力1">
    <textarea rows="3" cols="40"></textarea>
  </div>

  <div class="row">
    <input type="text" placeholder="入力2">
    <textarea rows="3" cols="40"></textarea>
  </div>

  <div class="row">
    <input type="text" placeholder="入力3">
    <textarea rows="3" cols="40"></textarea>
  </div>

  <script>
    const textareas = document.querySelectorAll("textarea");

    textareas.forEach((textarea, index) => {
      textarea.addEventListener("keydown", (e) => {
        const cursorPos = textarea.selectionStart;
        const textUntilCursor = textarea.value.slice(0, cursorPos);
        const currentLine = textUntilCursor.split("\n").length;
        const totalLines = textarea.value.split("\n").length;

        if (e.key === "ArrowDown") {
          if (currentLine === totalLines && index < textareas.length - 1) {
            e.preventDefault();
            textareas[index + 1].focus();
          }
        }

        if (e.key === "ArrowUp") {
          if (currentLine === 1 && index > 0) {
            e.preventDefault();
            textareas[index - 1].focus();
          }
        }
      });
    });
  </script>

</body>
</html>

